/*! ydh-resource-web author:wmao 2014-06-30*/
function callback(){var a=$("input:checked[name='agentId']").val();if(!a)return parent.$.dialog.alertNoModel("请选择代理商"),!1;var b=api.data.callback;b(parseInt(a),window)}var api=frameElement.api,THISPAGE={},initData={};$(function(){THISPAGE={init:function(a){this.loadGrid(a),this.initDom(),this.addEvent()},loadGrid:function(a){$("#alert_customer_container").ajaxPager({ajaxContainer:"#customerContainer",ajaxPageContainer:"#pagerContainer",url:"/customer/customer?action=listForOrderAdd",pageSize:5,searchObj:a,callback:{onComplete:function(){}}})},initDom:function(){},addEvent:function(){$("#customerContainer").find("tr").live("click",function(){$(":radio").removeAttr("checked"),$(this).find(":radio").attr("checked","checked")});var a=this;Public.Ajax.get("","/customer/type?action=listInuseJson",!0,function(a){if(200==a.code)for(var b=0;b<a.data.arr.length;b++){var c=a.data.arr[b];$(".customer-type-list").append('<li><a class="customer-filter-a" href="javascript:void(0);" data="'+c.id+'">'+c.name+"</a></li>")}else Public.Ajax.handleResponseText(a)}),$(".customer-filter-a").live("click",function(){$(".table-filter").trigger("mouseout").text($(this).text());var b={};b.customertypeId=$(this).attr("data"),a.loadGrid(b)})}},THISPAGE.init(initData)});